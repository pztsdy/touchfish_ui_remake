<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <title>Touchfish UI Remake</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="connection-page" class="active">
    <div class="card">
      <h1 class="title">连接服务器</h1>
      <div class="form-group">
        <label for="ip">服务器IP:</label>
        <input type="text" id="ip" value="127.0.0.1" placeholder="例如: 127.0.0.1">
      </div>
      <div class="form-group">
        <label for="port">端口:</label>
        <input type="number" id="port" value="8080" placeholder="例如: 8080">
      </div>
      <div class="form-group">
        <label for="username">用户名:</label>
        <input type="text" id="username" placeholder="君の名字">
      </div>
      <button id="connect-btn" class="main-btn">连接</button>
      <p class="hint">提示: Ctrl+Enter 发送消息</p>
      <p id="version-info" class="version-info">获取中...</p>
    </div>
  </div>

  <div id="chat-page" class="hidden">
    <div class="card chat-card">
      <div class="chat-header">
        <h1 id="chat-title">Touchfish UI Remake</h1>
        <button id="report-bug" class="icon-btn">🧐</button>
        <button id="update-log-btn" class="icon-btn">📝</button>
        <button id="settings-btn" class="icon-btn">⚙️</button>
      </div>
      <div id="messages" class="messages" style="overflow-y: auto; max-height: 350px; font-family: 'Maple Mono NF CN Light';"></div>
      <div class="chat-footer">
        <textarea id="message-input" placeholder="输入消息..." rows="2" style="font-family: 'Maple Mono NF CN Light';"></textarea>
        <button id="send-btn" class="main-btn">发送</button>
      </div>
    </div>

    <div id="update-log-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close-btn" id="close-update-log-btn">&times;</span>
        <h2>更新日志</h2>
        <pre id="update-log-content">
          v1.4.0:
           修复字体无法显示的bug
           添加bug反馈功能
           添加连接界面输入占位符
          v1.3.2:
           增加官方服务器支持
           优化使用官方服务器体验
           适配长度截断
          v1.3.1:
           更改联网获取支持的服务器版本(piaoztsdy.cn/touchfishui.txt)
           支持官方Server v1.1.1版本
          v1.3.0:
           修复了空行Bug
          v1.2.0:
           添加了更新日志功能
           适配服务端屏蔽词功能
           增加了消息内容中的滚动条
           将更改颜色设置体验优化
           更改字体样式
           修复刷新窗口的bug(禁用刷新)
          v1.1.0:
           模态框样式优化
           添加了设置颜色功能
           对系统消息等特殊消息进行颜色更改
          v1.0.0:
           优化登陆界面
           更改聊天气泡样式
        </pre>
      </div>
    </div>

    <div id="settings-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close-btn" id="close-settings-btn">&times;</span>
        <h2>颜色设置</h2>
        <div class="color-setting">
          <label for="system-color">系统提示颜色:</label>
          <input type="color" id="system-color" value="#87CEEB">
        </div>
        <div class="color-setting">
          <label for="broadcast-color">房主广播颜色:</label>
          <input type="color" id="broadcast-color" value="#90EE90">
        </div>
        <div class="color-setting">
          <label for="hint-color">房主提示颜色:</label>
          <input type="color" id="hint-color" value="#ADD8E6">
        </div>
      </div>
    </div>

    <div id="report-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close-btn" id="close-report-btn">&times;</span>
        <h2>报告错误</h2>
        <form id="report-form">
          <div class="form-group">
            <label for="report-description">描述:</label>
            <!-- 输入框长度 -->
            <textarea id="report-description" rows="11" placeholder="请详细描述您遇到的问题..." style="width: 100%;">
### 触发步骤
（请描述你是怎么操作时发生的）

### 当前版本
v1.4.0

### 系统信息
平台: e.g. Windows 10</textarea>
          </div>
          <button type="submit" class="main-btn" id="report-submit-btn">提交报告</button>
        </form>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>

</html>